# ë¶€í•˜í…ŒìŠ¤íŠ¸ ì‹¤ìŠµ

## ëª©ì°¨
[1. í…ŒìŠ¤íŠ¸ ëª©ì  ë° ëŒ€ìƒ ì„ ì •](#1-í…ŒìŠ¤íŠ¸-ëª©ì -ë°-ëŒ€ìƒ-ì„ ì •)

[2. í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ ì„¤ê³„ ë° ë¶€í•˜í…ŒìŠ¤íŠ¸](#2-í…ŒìŠ¤íŠ¸-ì‹œë‚˜ë¦¬ì˜¤-ì„¤ê³„-ë°_ë¶€í•˜í…ŒìŠ¤íŠ¸)

[3. ê²°ê³¼](#3-ê²°ê³¼)

---
# âœï¸ 1. í…ŒìŠ¤íŠ¸ ëª©ì  ë° ëŒ€ìƒ ì„ ì •

## ğŸ“Œ 1.1 í…ŒìŠ¤íŠ¸ ëª©ì 
ì½˜ì„œíŠ¸ ì˜ˆì•½ ì‹œìŠ¤í…œì˜ í•µì‹¬ ê¸°ëŠ¥ì¸ ëŒ€ê¸°ì—´ í† í° ë°œê¸‰ API(POST /queue/token)ì— ëŒ€í•´ ë¶€í•˜ í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•˜ì—¬, ë‹¤ìŒì˜ ì£¼ìš” ì„±ëŠ¥ ì§€í‘œë¥¼ ê²€ì¦í•¨:

- ì˜ˆì¸¡ TPS(Transaction Per Second) ë„ë‹¬ ê°€ëŠ¥ ì—¬ë¶€
- ì‘ë‹µ ì‹œê°„ ì§€í‘œ (í‰ê· , P90 ,p95)
- ê³ ë¶€í•˜ ìƒí™©ì—ì„œì˜ ë™ì‹œì„± ë¬¸ì œ ë° ë³‘ëª© êµ¬ê°„ íŒŒì•…
- ì‹¤ì œ ìš´ì˜ ë°°í¬ ì „, ì‹œìŠ¤í…œ ì•ˆì •ì„±ê³¼ ë³‘ëª© ê°€ëŠ¥ ì§€ì ì„ ì‚¬ì „ ì‹ë³„í•˜ê³  ê°œì„ 


## ğŸ“Œ 1.2 í…ŒìŠ¤íŠ¸ ëŒ€ìƒ ì„ ì •

### í…ŒìŠ¤íŠ¸ ëŒ€ìƒ í›„ë³´
1. ëŒ€ê¸°ì—´ í† í° ë°œê¸‰ API
- URL: POST /queue/token
- ì£¼ìš” ê¸°ëŠ¥: ì½˜ì„œíŠ¸ ì˜ˆì•½ì„ ìœ„í•œ ëŒ€ê¸°ì—´ í† í° ë°œê¸‰

2. ì¢Œì„ ì˜ˆì•½ ìš”ì²­ API
- URL : POST /bookings/seats
- ì£¼ìš” ê¸°ëŠ¥ : ì½˜ì„œíŠ¸ íŠ¹ì • ì¢Œì„ ì ìœ 

- ì„ ì • ì´ìœ :
  - ë™ì‹œ ì‚¬ìš©ìê°€ ì§‘ì¤‘ë˜ëŠ” ì£¼ìš” ì—”ë“œí¬ì¸íŠ¸
  - ë†’ì€ íŠ¸ë˜í”½ ìœ ì… ê°€ëŠ¥ì„±ì´ ìˆëŠ” ê¸°ëŠ¥


---

# âœï¸ 2. í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ ì„¤ê³„ ë° ë¶€í•˜í…ŒìŠ¤íŠ¸

## ğŸ“Œ 2.1 í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ ì‘ì„±

- í† í° ë°œê¸‰ ë¶€í•˜ í…ŒìŠ¤íŠ¸

| token ë¶€í•˜ Test  | ì„¤ëª…                                            | ë™ì‹œ ì‚¬ìš©ì ìˆ˜ (VU)    | Duration | ëª©í‘œ TPS    | ê¸°ëŒ€ ì‘ë‹µì‹œê°„ (P_mean / P90 / P95) |
|----------------|-----------------------------------------------|------------------|----------|-----------|------------------------------|
| Load Test      | - ì‹œìŠ¤í…œì´ ì˜ˆìƒë˜ëŠ” ë¶€í•˜ë¥¼ ì •ìƒì ìœ¼ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ”ì§€ í‰ê°€            | 100              | 5m       | â‰¥ 30 TPS  | 10ms / 30ms / 50ms           |
| Endurance Test | - ì‹œìŠ¤í…œì´ ì¥ê¸°ê°„ ë™ì•ˆ ì•ˆì •ì ìœ¼ë¡œ ìš´ì˜ë  ìˆ˜ ìˆëŠ”ì§€ í‰ê°€              | 50               | 30m      | â‰¥ 50 TPS  | 20ms / 30ms / 50ms           |
| Stress Test    | - ì‹œìŠ¤í…œì´ ì§€ì†ì ìœ¼ë¡œ ì¦ê°€í•˜ëŠ” ë¶€í•˜ë¥¼ ì–¼ë§ˆë‚˜ ì˜ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ”ì§€ í‰ê°€      | 10->50->100->300 | ê° 30s    | â‰¥ 100 TPS | 30ms / 50ms / 80ms           |
| Peak Test      | - ì‹œìŠ¤í…œì— ì¼ì‹œì ìœ¼ë¡œ ë§ì€ ë¶€í•˜ê°€ ê°€í•´ì¡Œì„ ë•Œ, ì˜ ì²˜ë¦¬í•˜ëŠ”ì§€ í‰ê°€        | 100->1000->100   | 1m       | â‰¥ 300 TPS | 30ms / 50ms / 80ms           |


- ì¢Œì„ ì˜ˆì•½ ë¶€í•˜ í…ŒìŠ¤íŠ¸

| booking ë¶€í•˜ Test | ì„¤ëª…                                            | ë™ì‹œ ì‚¬ìš©ì ìˆ˜ (VU)    | Duration    | ëª©í‘œ TPS    | ê¸°ëŒ€ ì‘ë‹µì‹œê°„ (P_mean / P90 / P95) |
|-----------------|-----------------------------------------------|------------------|-------------|-----------|------------------------------|
| Load Test       | - ì‹œìŠ¤í…œì´ ì˜ˆìƒë˜ëŠ” ë¶€í•˜ë¥¼ ì •ìƒì ìœ¼ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ”ì§€ í‰ê°€            | 100              | 5m          | â‰¥ 30 TPS  | 10ms / 30ms / 50ms           |
| Endurance Test  | - ì‹œìŠ¤í…œì´ ì¥ê¸°ê°„ ë™ì•ˆ ì•ˆì •ì ìœ¼ë¡œ ìš´ì˜ë  ìˆ˜ ìˆëŠ”ì§€ í‰ê°€              | 50               | 5m(í† í° ìœ íš¨ì‹œê°„) | â‰¥ 50 TPS  | 20ms / 30ms / 50ms           |
| Stress Test     | - ì‹œìŠ¤í…œì´ ì§€ì†ì ìœ¼ë¡œ ì¦ê°€í•˜ëŠ” ë¶€í•˜ë¥¼ ì–¼ë§ˆë‚˜ ì˜ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ”ì§€ í‰ê°€      | 10->50->100->300 | ê° 30s       | â‰¥ 100 TPS | 30ms / 50ms / 80ms           |
| Peak Test       | - ì‹œìŠ¤í…œì— ì¼ì‹œì ìœ¼ë¡œ ë§ì€ ë¶€í•˜ê°€ ê°€í•´ì¡Œì„ ë•Œ, ì˜ ì²˜ë¦¬í•˜ëŠ”ì§€ í‰ê°€        | 100->1000->100   | 1m          | â‰¥ 300 TPS | 30ms / 50ms / 80ms           |

- P_mean: í‰ê·  ì‘ë‹µ ì‹œê°„ (ì „ì²´ ì‚¬ìš©ì ê²½í—˜ì˜ ì „ë°˜ì ì¸ ì†ë„)
- P90: ì „ì²´ ìš”ì²­ ì¤‘ ìƒìœ„ 90%ê¹Œì§€ì˜ ì‘ë‹µ ì‹œê°„ (ëŒ€ë¶€ë¶„ ì‚¬ìš©ìì—ê²Œ ì•ˆì •ì ì¸ ì‘ë‹µ ë³´ì¥)
- P95: ì „ì²´ ìš”ì²­ ì¤‘ ìƒìœ„ 95%ê¹Œì§€ì˜ ì‘ë‹µ ì‹œê°„ (ìµœì•…ì˜ ìƒí™© ì¼ë¶€ ì œì™¸)


## ğŸ“Œ 2.2 ë¶€í•˜í…ŒìŠ¤íŠ¸ ì„ ì • ë° ì‹¤í–‰
- ì‚¬ìš© ë„êµ¬: `k6` + `InfluxDB` + `Grafana`
- ì‹¤í–‰ ë°©ì‹:
    - ìŠ¤í¬ë¦½íŠ¸ ê¸°ë°˜ ì‹œë‚˜ë¦¬ì˜¤ ì‘ì„± (ë™ì  userId í¬í•¨)
    - `--vus`, `--duration` ê¸°ë°˜ ë™ì‹œì„± ì¡°ì ˆ

---

# âœï¸ 3. ê²°ê³¼

## ğŸ“Œ 3.1 í† í° ë°œê¸‰ í…ŒìŠ¤íŠ¸ ê²°ê³¼

| ì‹œë‚˜ë¦¬ì˜¤ ID        | í‰ê·  ì‘ë‹µ ì‹œê°„   | ìµœëŒ€ ì‘ë‹µ ì‹œê°„   | P90        | P95      | í‰ê·  TPS   |
|----------------|------------|------------|------------|----------|----------|
| Load Test      | - 5.23ms   | - 154.09ms | - 8.25ms   | - 13.26ms | - 99.29  |
| Endurance Test | - 4.41ms   | - 219.51ms | - 6.78ms   | - 8.99ms | - 49.71  |
| Stress Test    | - 9.22ms   | - 181.94ms | - 15.74ms  | - 34.28ms | - 114.48 |
| Peak Test      | - 429.54ms | - 1.66s    | - 985.66ms | - 1.21s  | - 195.59 |

---

### ğŸ”¹ 1. Load Test
- ì„œë²„ê°€ ì´ˆë‹¹ ì•½ 100ê±´ì˜ ìš”ì²­ì„ ë¬¸ì œì—†ì´ ì²˜ë¦¬í•˜ê³  ìˆìŒ
- ì‘ë‹µì‹œê°„ ë§¤ìš° ìš°ìˆ˜ (10ms ì´í•˜ë¡œ ëŒ€ë¶€ë¶„ ì²˜ë¦¬)
- ì •ìƒ ìƒíƒœì—ì„œëŠ” ì•ˆì •ì 

![token_loadTest_tps.png](token_loadTest_tps.png)
![token_loadTest_result.png](token_loadTest_result.png)

---

### ğŸ”¹ 2. Endurance Test
- ì¥ì‹œê°„ ë™ì•ˆì—ë„ ì‘ë‹µ ì„±ëŠ¥ ìœ ì§€
- ìµœëŒ€ ì‘ë‹µ ì‹œê°„ë§Œ ì¼ì‹œì ìœ¼ë¡œ íŠ„ ê²ƒìœ¼ë¡œ ë³´ì„
- ì˜¤ë˜ ê°€ë™í•´ë„ ì•ˆì •ì 

![token_enduranceTest_tps.png](token_enduranceTest_tps.png)
![token_enduranceTest_result.png](token_enduranceTest_result.png)

---

### ğŸ”¹ 3. Stress Test
- TPSëŠ” ì¦ê°€í•´ë„ ì¼ì • ìˆ˜ì¤€ ìœ ì§€ (ì–‘í˜¸)
- P95ê°€ 30ms ì´ìƒ â†’ ë¶€í•˜ ì¦ê°€ì— ë”°ë¥¸ ì‘ë‹µ ì§€ì—° ì‹œì‘
- ì•„ì§ ì¹˜ëª…ì ì´ì§€ëŠ” ì•Šì§€ë§Œ, ë¶€í•˜ê°€ ëˆ„ì ë˜ë©´ ë³‘ëª© ê°€ëŠ¥ì„± ìˆìŒ

![token_stressTest_tps.png](token_stressTest_tps.png)
![token_stressTest_result.png](token_stressTest_result.png)

---

### ğŸ”¹ 4. Peak Test
- ì‘ë‹µì‹œê°„ì´ ê¸‰ê²©íˆ ëŠë ¤ì§ (P95ê°€ 1.2ì´ˆ)
- ëª©í‘œ TPS (300)ì— í›¨ì”¬ ëª» ë¯¸ì¹¨ â†’ ì²˜ë¦¬ ë³‘ëª©, ê³¼ë¶€í•˜ ë°œìƒ
- ì´ ê²°ê³¼ëŠ” ì„œë²„ê°€ ìˆœê°„ì ì¸ íŠ¸ë˜í”½ í­ì£¼ë¥¼ ê°ë‹¹í•˜ì§€ ëª»í•´ ë³‘ëª© í˜„ìƒì´ ë°œìƒí–ˆìŒì„ ë‚˜íƒ€ëƒ„
- ì´ë¡œ ì¸í•´ ì¹´í”„ì¹´ ì´ë²¤íŠ¸ lack ë°œìƒ ê°€ëŠ¥ì„± ì¡´ì¬

![token_peakTest_tps.png](token_peakTest_tps.png)
![token_peakTest_result.png](token_peakTest_result.png)

---

## ğŸ“Œ 3.2. ì¢Œì„ ì˜ˆì•½ í…ŒìŠ¤íŠ¸ ê²°ê³¼

| ì‹œë‚˜ë¦¬ì˜¤ ID        | í‰ê·  ì‘ë‹µ ì‹œê°„   | ìµœëŒ€ ì‘ë‹µ ì‹œê°„   | P90        | P95        | í‰ê·  TPS   |
|----------------|------------|------------|------------|------------|----------|
| Load Test      | - 12.75ms  | - 83.19ms  | - 16.95ms  | - 20.73ms  | - 98.22  |
| Endurance Test | - 13.36ms  | - 185.30ms | - 16.96ms  | - 20.76ms  | - 49.21  |
| Stress Test    | - 110.56ms | - 1.28s    | - 340.34ms | - 553.30ms | - 103.99 |
| Peak Test      | - 1.21s    | - 3.74s    | - 2.29s    | - 2.49s    | - 136.76 |

### ğŸ”¹ 1. Load Test
- ëŒ€ë¶€ë¶„ì˜ ìš”ì²­ì´ 20ms ì´ë‚´ì— ì²˜ë¦¬ë˜ì–´ ì„±ëŠ¥ ìš°ìˆ˜.
- ì‹¤ì œ ìš´ì˜ í™˜ê²½ì—ì„œì˜ ì˜ˆìƒ íŠ¸ë˜í”½ì„ ì˜ ê°ë‹¹ ê°€ëŠ¥.
- ì•ˆì •ì ì¸ ì‘ë‹µ ì‹œê°„ ë¶„í¬ë¡œ ì •ìƒ ìƒíƒœì—ì„œ ë§¤ìš° ì–‘í˜¸.

![booking_loadTest_tps.png](booking_loadTest_tps.png)
![booking_loadTest_result.png](booking_loadTest_result.png)

---
### ğŸ”¹ 2. Endurance Test
- ìµœëŒ€ ì‘ë‹µ ì‹œê°„ë§Œ ì¼ì‹œì ìœ¼ë¡œ íŠ€ì—ˆìœ¼ë‚˜, ì „ì²´ì ì¸ ì‘ë‹µ ì‹œê°„ ë¶„í¬ëŠ” ì•ˆì •ì .
- ì¥ì‹œê°„ ì„œë¹„ìŠ¤ ìš´ìš© ì‹œì—ë„ ì„±ëŠ¥ ìœ ì§€ ê°€ëŠ¥ì„± ë†’ìŒ.
![booking_enduranceTest_tps.png](booking_enduranceTest_tps.png)
![booking_enduranceTest_result.png](booking_enduranceTest_result.png)
---

### ğŸ”¹ 3. Stress Test
- ìš”ì²­ ì²˜ë¦¬ëŸ‰(TPS)ì€ ì–‘í˜¸í•˜ì§€ë§Œ, ì§€ì—° ì‹œê°„(P95 ê¸°ì¤€ 500ms ì´ìƒ)ì´ ì¦ê°€.
- ë³‘ëª© ì‹œì‘ ì‹ í˜¸ë¡œ í•´ì„ë¨. CPU, Redis, DB I/O ë˜ëŠ” ë½ ë³‘ëª© ê°€ëŠ¥ì„± ìˆìŒ.
- ì‹¤ì œ ìš´ì˜ì—ì„œ ë¶€í•˜ ëˆ„ì  ì‹œ ë”œë ˆì´ ì²´ê° ë°œìƒí•  ìˆ˜ ìˆìŒ.

![booking_stressTest_tps.png](booking_stressTest_tps.png)
![booking_stressTest_result.png](booking_stressTest_result.png)

---

### ğŸ”¹ 4. Peak Test
- ì´ˆë‹¹ ìˆ˜ë°± ê±´ ì´ìƒ ìš”ì²­ì—ì„œ ì„œë²„ê°€ ë³‘ëª© ìƒíƒœì— ë„ë‹¬.
- ì¹´í”„ì¹´ íê°€ ë§‰í ê°€ëŠ¥ì„± ë° Redis ë½ ì¶©ëŒ ë“± ìì› ê²½ìŸ ê°€ëŠ¥ì„± ë†’ìŒ.
- TPSëŠ” ë†’ì§€ë§Œ, ê³¼ë„í•œ ì§€ì—°ì€ ì‹¤ì œ ì‚¬ìš©ìì—ê²ŒëŠ” ì¹˜ëª…ì ì„.
- ì„œë²„ ìŠ¤ì¼€ì¼ë§, í ì ì ˆí•œ ì²˜ë¦¬ ì „ëµ ë„ì… í•„ìš”

![booking_peaktest_tps.png](booking_peaktest_tps.png)
![booking_peakTest_result.png](booking_peakTest_result.png)